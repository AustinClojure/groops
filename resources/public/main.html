<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Groops Room Selection</title>

    <!-- Bootstrap -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

		<!-- Optional theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
				<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
				<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
				<![endif]-->
  </head>
  <body>
    <div id="main" class="container">
			<div class="row" style="margin-bottom:15px;">
				<h1>Groops</h1>
			</div>

			<div class="row">
				<img src="<%= user.gravatarUrl %>" class="grp-gravatar">
				<div style="margin-left: 120px;">
					<p><strong><%= user.name %></strong></p>
					<p><%= user.email %></p>
					<% if (user.twitter) { %>
          <p><a href="https://twitter.com/<%= user.twitter %>" target="blank">@<%= user.twitter %></a></p>
					<% } %>
				</div>
			</div>

			<div class="row" style="padding-top:25px;">
				<div class="col-md-6" style="padding:0;">
					<form role="form" action="room" method="POST">
						<div class="input-group">
							<input type="text" class="form-control" name="room_name" placeholder="Room Name" required>
							<span class="input-group-btn">
								<button class="btn btn-primary" type="submit">Create Room</button>
							</span>
						</div>
					</form>
				</div>
			</div>

			<div class="row">
				<h3>Available Rooms</h3>
				<% if (rooms.length > 0) { %>
        <table class="table table-striped table-bordered table-condensed">
          <thead>
            <tr>
              <td width="100%">Room</td>
              <td class="centered">Members</td>
              <td class="centered">Join</td>
            </tr>
          </thead>
          <tbody>
						<% for (var i=0; i < rooms.length; i++) { %>
							 <tr>
								 <td width="100%"><%= rooms[i].name %></td>
								 <td class="centered"><%= rooms[i].users %></td>
								 <td class="centered"><a href="./room/<%= rooms[i].id %>" class="btn btn-primary btn-sm">Join</a></td>
							 </tr>
							 <% } %>
          </tbody>
        </table>
				<% } else { %>
    <p><em class="text-muted">No rooms available right now</em></p>
    <% } %>
</div>
</div>


<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

</body>
</html>
